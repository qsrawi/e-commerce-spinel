<div class="product-card justify-content-center"  [ngClass]="{
    'product-card--layout--grid product-card--size--sm': layout === 'grid-sm',
    'product-card--layout--grid product-card--size--nl': layout === 'grid-nl',
    'product-card--layout--grid product-card--size--lg': layout === 'grid-lg',
    'product-card--layout--list':                        layout === 'list',
    'product-card--layout--horizontal':                  layout === 'horizontal'
}">
    <button class="product-card__quickview" type="button" appClick (click)="showQuickview()" [ngClass]="{'product-card__quickview--preload': showingQuickview}">
        <app-icon name="quickview-16" size="16"></app-icon>
        <span class="fake-svg-icon"></span>
    </button>
    <button class="product-card__quickview" style="top: 60px !important;" type="button" appClick (click)="addToWishlist()" [ngClass]="{'btn-loading': addingToWishlist}">
        <app-icon name="wishlist-16" size="16"></app-icon>
        <span class="fake-svg-icon fake-svg-icon--wishlist-16"></span>
    </button>
    <!-- <div *ngIf="product.badges.length" class="product-card__badges-list">
        <div *ngIf="product.badges.includes('sale')" class="product-card__badge product-card__badge--sale">Sale</div>
        <div *ngIf="product.badges.includes('hot')" class="product-card__badge product-card__badge--hot">Hot</div>
        <div *ngIf="product.badges.includes('new')" class="product-card__badge product-card__badge--new">New</div>
    </div> -->

    <div class="product-card__image product-image">
        <!-- *ngIf="product.images?.length"  -->
        <a appClick  class="product-image__body" [routerLink]="root.item(item)" *ngIf="item.ImagePath?.length">
            <img class="product-image__img" (click)="addToRecentlyViewed()" src="http://192.119.110.192:5001/itemimage/{{item.ImagePath}}" alt="">
        </a>
        <a appClick  class="product-image__body" [routerLink]="root.item(item)" *ngIf="!item.ImagePath?.length && item.itemimages!= undefined && item.itemimages.length>0">
            <img class="product-image__img" (click)="addToRecentlyViewed()" src="http://192.119.110.192:5001/itemimage/{{item.itemimages[0].ImagePath}}" alt="">
        </a>
        <a appClick  class="product-image__body" *ngIf="!item.ImagePath?.length && item.itemimages?.length==0">
            <img class="product-image__img" (click)="addToRecentlyViewed()" src="assets/images/products/product-3.jpg" alt="">
        </a>
    </div>
    <div class="product-card__info" style="padding-bottom: 0px;">
        <div class="product-card__name">
            <a appClick [routerLink]="root.item(item)" (click)="addToRecentlyViewed()">{{ item.ItemEnName }}</a>
        </div>
        <!-- <div class="product-card__rating">
            <app-rating [value]="product.rating"></app-rating>
            <div class="product-card__rating-legend">{{ product.reviews }} Reviews</div>
        </div> -->
        <!-- <ul *ngIf="featuredAttributes.length" class="product-card__features-list"> 
            <li *ngFor="let attribute of featuredAttributes">
                {{ attribute.name }}:
                <ng-container *ngFor="let value of attribute.values; let last = last">
                    {{ value.name }}<ng-container *ngIf="!last">, </ng-container>
                </ng-container>
            </li>
        </ul> -->
    </div>
    <div class="product-card__actions">
        <!-- <div class="product-card__availability">
            Availability:
            <span *ngIf="product.availability === 'in-stock'" class="text-success">In Stock</span>
        </div> -->
        <div class="product-card__prices" style="text-align: end !important; padding-left: 10px; padding-right: 10px">
            <!-- *ngIf="product.compareAtPrice" -->
            <ng-container>
                <span class="product-card__new-price">{{item.PriceLevel_Price|currencyFormat}}</span>{{ ' ' }}
                <span class="product-card__old-price" *ngIf="item.ecommerceDiscountPercentage !=null && item.ecommerceDiscountPercentage>0">
                    <span >{{((item.PriceLevel_Price / (1-item.ecommerceDiscountPercentage/100)))|currencyFormat}}</span>
                </span>
                <!-- <span class="product-card__old-price" style="color: white !important;" *ngIf="item.ecommerceDiscountPercentage ==null || item.ecommerceDiscountPercentage==0">
                    <span >{{100|currencyFormat}}</span>
                </span> -->
            </ng-container>
            <!-- <ng-container *ngIf="!product.compareAtPrice">
                {{ item.PriceLevel_Price|currencyFormat }}
            </ng-container> -->
        </div>
        <div class="product-card__buttons" style="padding:10px 30px;margin-top: 0px;">
            <button class="btn btn-primary product-card__addtocart" style="color: white;" type="button" appClick (click)="addToCart()" [ngClass]="{'btn-loading': addingToCart}"><i class="fas fa-cart-plus"></i></button>
            <button class="btn btn-secondary product-card__addtocart product-card__addtocart--list" type="button" appClick (click)="addToCart()" [ngClass]="{'btn-loading': addingToCart}"><i class="fas fa-cart-plus"></i></button>

            <button class="btn btn-light btn-svg-icon btn-svg-icon--fake-svg product-card__compare" type="button" appClick (click)="addToCompare()" [ngClass]="{'btn-loading': addingToCompare}">
                <app-icon name="compare-16" size="16"></app-icon>
                <span class="fake-svg-icon fake-svg-icon--compare-16"></span>
            </button>
        </div>
    </div>
</div>
